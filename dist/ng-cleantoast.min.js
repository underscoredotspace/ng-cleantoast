angular.module("ngCleanToast",[]).service("toasts",function(){return{types:["info","warn","error","debug"],type:function(a){return this.types.indexOf(a)},create:function(a,b,c,d){this._listener({type:this.types[a],title:b,text:c,timeout:d})},addType:function(a){this.types.push(a)},sticky:-1,_listener:null,_setListener:function(a){this._listener=a},_defaultTimeout:3e3,_additionalTime:1e3}}).directive("ctToast",function(toasts){return{restrict:"C",link:function(a,b){if(!a.toast.sticky){var c;b.on("mouseover",function(){c=a.toast.pause()}),b.on("mouseout",function(){a.toast.resume(c)})}b.on("click",function(b){a.toast.clear()})}}}).directive("ctToasts",function($timeout,toasts){return{restrict:"AE",replace:!1,template:'<div ng-repeat="toast in toasts" class="ct-toast ct-toast-{{toast.type}}" ng-class="{\'ct-sticky\':toast.sticky}"><div ng-if="toast.title" class="ct-toast-title" ng-class="{\'ct-sticky\':toast.sticky}">{{toast.title}}</div><div ng-if="toast.text" class="ct-toast-text" ng-class="{\'ct-sticky\':toast.sticky}">{{toast.text}}</div></div>',compile:function(){return{pre:function(a,b){b.hasClass("ct-toasts")||b.addClass("ct-toasts"),a.toasts=[],toasts._setListener(function(b){b.timeout<=0?b.sticky=!0:b.timeout=b.timeout||toasts._defaultTimeout,b.clear=function(){b.sticky||$timeout.cancel(b.timer),a.toasts.splice(a.toasts.indexOf(b),1),a.$digest()},b.sticky||(b.timeLeft=function(){return b.timeout-(Date.now()-b.startTime)},b.pause=function(){return timeLeft=b.timeLeft(),$timeout.cancel(b.timer),timeLeft+toasts._additionalTime},b.resume=function(a){b.timer=$timeout(function(){b.clear()},a)},b.timer=$timeout(function(){b.clear()},b.timeout),b.startTime=Date.now()),a.toasts.push(b)})}}}}});